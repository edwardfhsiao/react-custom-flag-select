!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports["react-custom-flag-select"]=t(require("React")):e["react-custom-flag-select"]=t(e.React)}(this,(function(e){return function(e){var t={};function n(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return e[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(c,r,function(t){return e[t]}.bind(null,r));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,t,n){e.exports={ellipsis:"react-custom-flag-select__ellipsis___1ZnQ3",select__button:"react-custom-flag-select__select__button___15AP2",select__wrapper:"react-custom-flag-select__select__wrapper___1R93I",disabled:"react-custom-flag-select__disabled___2j0z7",select__input:"react-custom-flag-select__select__input___14Lze",select__buttonWrapper:"react-custom-flag-select__select__buttonWrapper___12YOr",select__searchInputWrapper:"react-custom-flag-select__select__searchInputWrapper___2YwS_",select__searchInputSearchIcon:"react-custom-flag-select__select__searchInputSearchIcon___2oJfw",select__searchInputRemoveIcon:"react-custom-flag-select__select__searchInputRemoveIcon___2Fd43",select__searchInput:"react-custom-flag-select__select__searchInput___3Q6TN",select__container:"react-custom-flag-select__select__container___2FIjR","select__options-item":"react-custom-flag-select__select__options-item___3_6R4","select__options-item-show-cursor":"react-custom-flag-select__select__options-item-show-cursor___24_5-","select__no-mouse":"react-custom-flag-select__select__no-mouse___3ka1G","select__hover-active":"react-custom-flag-select__select__hover-active___1ECCY",active:"react-custom-flag-select__active___2SYE9","select__options-container-animate":"react-custom-flag-select__select__options-container-animate___zn9Fe",show:"react-custom-flag-select__show___1cXxR","select__options-container":"react-custom-flag-select__select__options-container___1TPJG",select__dropdown:"react-custom-flag-select__select__dropdown___Pf01k","select__dropdown-icon":"react-custom-flag-select__select__dropdown-icon___3KppP",select__selector:"react-custom-flag-select__select__selector___1JJ_x","select__dropdown-flag":"react-custom-flag-select__select__dropdown-flag___4-6D7","select__dropdown-name":"react-custom-flag-select__select__dropdown-name___TxNpJ",showArrow:"react-custom-flag-select__showArrow___2E92p","select__dropdown-icon-container":"react-custom-flag-select__select__dropdown-icon-container___1hWQW"}},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function e(){for(var t=[],n=0;n<arguments.length;n+=1){var c=n<0||arguments.length<=n?void 0:arguments[n];if(c){var r=o(c);if("string"===r||"number"===r)t.push(c);else if(Array.isArray(c)&&c.length){var a=e.apply(null,c);a&&t.push(a)}else if("object"===r)for(var l in c)({}).hasOwnProperty.call(c,l)&&c[l]&&t.push(l)}}return t.join(" ")},l=n(1),s=n.n(l);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],c=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(c=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);c=!0);}catch(e){r=!0,o=e}finally{try{c||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}var b="select",h=[27,40,38,13],g=!1,y=!1,w=null,O=null,j=function(e,t){for(var n=-1,c=0;c<e.length;c+=1)if(e[c].id===t){n=c;break}return n},S=Object(c.memo)((function(e){var t=e.value,n=void 0===t?"":t,o=e.disabled,l=void 0!==o&&o,i=e.showSearch,_=void 0!==i&&i,m=e.keyword,v=void 0===m?"":m,S=e.showArrow,E=void 0===S||S,k=e.animate,I=void 0!==k&&k,N=e.optionList,x=void 0===N?[]:N,L=e.classNameWrapper,M=void 0===L?"":L,P=e.classNameContainer,R=void 0===P?"":P,A=e.classNameSelect,T=void 0===A?"":A,W=e.classNameButton,D=void 0===W?"":W,z=e.classNameOptionListItem,B=void 0===z?"":z,F=e.classNameOptionListContainer,H=void 0===F?"":F,J=e.classNameDropdownIconOptionListItem,Y=void 0===J?"":J,Q=e.attributesWrapper,q=void 0===Q?{}:Q,G=e.attributesInput,K=void 0===G?{}:G,U=e.attributesButton,X=void 0===U?{}:U,Z=e.customStyleWrapper,$=void 0===Z?{}:Z,V=e.customStyleContainer,ee=void 0===V?{}:V,te=e.customStyleSelect,ne=void 0===te?{}:te,ce=e.customStyleButton,re=void 0===ce?{}:ce,oe=e.customStyleOptionListItem,ae=void 0===oe?{}:oe,le=e.customStyleOptionListContainer,se=void 0===le?{}:le,ie=e.selectHtml,ue=void 0===ie?null:ie,_e=e.selectOptionListItemHtml,fe=void 0===_e?null:_e,de=e.onChange,pe=void 0===de?function(){}:de,me=e.onBlur,ve=void 0===me?null:me,be=e.onFocus,he=void 0===be?null:be,ge=e.onClick,ye=void 0===ge?null:ge,we=p(Object(c.useState)(!1),2),Oe=we[0],je=we[1],Se=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(Oe),Ce=p(Object(c.useState)(String(n)),2),Ee=Ce[0],ke=Ce[1],Ie=p(Object(c.useState)([]),2),Ne=Ie[0],xe=Ie[1],Le=Object(c.useState)(v),Me=p(Object(c.useState)(!1),2),Pe=Me[0],Re=Me[1],Ae=Object(c.useRef)(null),Te=Object(c.useRef)(null),We=Object(c.useRef)(null),De=Object(c.useRef)(null),ze=Object(c.useRef)(null),Be=[];if(x.length)for(var Fe=0;Fe<x.length;Fe+=1)Be.push(Object(c.useRef)(null));var He=Object(c.useMemo)((function(){var e=x;return e.length&&Le[0]&&(e=x.filter((function(e){return e.name.toLowerCase().includes(Le[0].toLowerCase())}))),e}),[Le[0],x]),Je=Object(c.useCallback)((function(e){Le[1](e.target.value)}),[]),Ye=Object(c.useCallback)((function(e){var t=e.keyCode,n=ot(t);-1!==h.indexOf(t)?(e.preventDefault(),at(t)):32===t&&(Le[1]("".concat(Le[0]," ")),e.preventDefault()),$e(n)}),[He]);Object(c.useEffect)((function(){Oe&&_&&(w=0,$e("up"),ct())}),[Le[0]]),Object(c.useEffect)((function(){Oe?_&&(I?setTimeout((function(){ze.current.focus()}),100):ze.current.focus()):!0===Se&&!1===Oe&&Te.current.focus(),Xe()}),[Oe]);var Qe=Object(c.useCallback)((function(e){ve&&ve(e)}),[Ee]),qe=Object(c.useCallback)((function(e){he&&he(e)}),[]),Ge=Object(c.useCallback)((function(e){ye&&ye(e)}),[]),Ke=Object(c.useCallback)((function(e,t){l||null===Ae||(je(!Oe),ke(e),pe&&pe(e,t))}),[Oe]);Object(c.useEffect)((function(){if(null!==Ae)return window.addEventListener("mousedown",Ue),window.addEventListener("touchstart",Ue),function(){window.removeEventListener("mousedown",Ue),window.removeEventListener("touchstart",Ue),Ae.current.removeEventListener("keydown",lt)}}),[]);var Ue=Object(c.useCallback)((function(e){null===Ae||Ae.current.contains(e.target)||(g&&(Qe(e),g=!1),je(!1))}),[]),Xe=Object(c.useCallback)((function(){w=j(x,Ee),$e()}),[Ee]),Ze=Object(c.useCallback)((function(){O&&clearTimeout(O),O=setTimeout((function(){xe([])}),250)}),[]),$e=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(We&&We.current&&We.current.children){var t=We.current.children,n=We.current.offsetHeight,c=We.current.scrollTop;if(!t[w])return;var r=t[w].offsetHeight;if(e){if("loop"===e)return void(We.current.scrollTop=t.length*r);if("down"===e){var o=c+n,a=w*r,l=o-r;if(a>=l){var s=Math.abs(a-l-r);s>=0&&!y?(We.current.scrollTop=c+r-s,y=!0):We.current.scrollTop=c+r}}"up"===e&&(y=!1,w*r<=c&&(We.current.scrollTop=w*r))}else y=!1,We.current.scrollTop=w*r}}),[]),Ve=Object(c.useCallback)((function(e,t){Ke(e,t),Le[1]("")}),[Oe]),et=Object(c.useCallback)((function(e){w=e,ct()}),[]),tt=Object(c.useCallback)((function(){Re(!1)}),[]),nt=Object(c.useCallback)((function(){rt()}),[]),ct=Object(c.useCallback)((function(){Be&&(rt(),null!==w&&(w>=Be.length&&(w=0),w<0&&(w=Be.length-1),Be[w].current&&(Be[w].current.className+=" ".concat(s.a["".concat(b,"__hover-active")]))))}),[]),rt=Object(c.useCallback)((function(){for(var e=0;e<Be.length&&Be[e];e+=1)Be[e]&&Be[e].current&&(Be[e].current.className=Be[e].current.className.replace(s.a["".concat(b,"__hover-active")],""))}),[]),ot=Object(c.useCallback)((function(e){switch(e){case 38:return"up";case 40:return"down";default:return}}),[]),at=Object(c.useCallback)((function(e){if(27===e)return je(!1),void Xe();if(40===e)(w+=1)>He.length-1&&(w=0,$e("up")),ct();else if(38===e)(w-=1)<0&&(w=He.length-1,$e("loop")),ct();else if(13===e&&w>-1&&We&&We.current&&We.current.children){var t=We.current.children;if(!t[w])return;t[w].click()}}),[He]),lt=Object(c.useCallback)((function(e){if(!_&&(Re(!0),e.preventDefault&&e.preventDefault(),Oe)){w=null===w?j(He,String(n)):w;var t=e.keyCode,c=ot(t);if(-1!==h.indexOf(t))at(t);else{Ze();var r=[].concat(d(Ne),[t]),o=String.fromCharCode.apply(String,d(r)).toLowerCase(),a=-1;He.forEach((function(e,t){e.name.toLowerCase().startsWith(o)&&-1===a&&(a=t)})),-1!==a&&(w=a,ct()),xe(r)}return $e(c),w}}),[Oe,n,Ne]);Object(c.useEffect)((function(){return Oe&&Ae&&Ae.current.addEventListener("keydown",lt),function(){Ae.current.removeEventListener("keydown",lt)}}),[Oe,n,Ne]),Object(c.useEffect)((function(){ke(String(n))}),[n]);var st,it=a(M,s.a["".concat(b,"__wrapper")],l&&s.a.disabled),ut=a(R,s.a["".concat(b,"__container")],Oe&&s.a.show),_t=a(s.a["".concat(b,"__input")]),ft=a(T,s.a["".concat(b,"__buttonWrapper")],s.a.ellipsis),dt=a(H,s.a["".concat(b,"__options-container")],Oe&&s.a.show,I&&s.a["".concat(b,"__options-container-animate")]),pt=a(!Pe&&s.a["".concat(b,"__options-item-show-cursor")],B,s.a["".concat(b,"__options-item")]),mt=a(Y,s.a["".concat(b,"__dropdown-icon")],E&&s.a.showArrow),vt=function(e,t){var n=null;if(e.length)for(var c=0;c<e.length;c+=1)if(e[c].id===t){n=e[c];break}return n}(x,String(n));He.length&&(st=fe||He.map((function(e,t){return r.a.createElement(C,{key:t,index:t,id:"react-custom-flag-select__select_option-".concat(e.id),refItem:Be[t],className:String(e.id)===String(n)?"".concat(pt," ").concat(s.a.active):"".concat(pt),item:e,customStyleOptionListItem:ae,onClick:Ve,show:Oe,onMouseOver:et,onMouseMove:tt,onMouseOut:nt})})));var bt,ht=ue;return vt.flag&&(bt=r.a.createElement("div",{className:s.a["select__dropdown-flag"]},r.a.createElement("img",{src:vt.flag,style:{width:"100%",height:"100%",verticalAlign:"middle"}}))),ht||(ht=r.a.createElement("div",{className:s.a.select__dropdown},bt," ",r.a.createElement("div",{className:"".concat(s.a["select__dropdown-name"]," ").concat(s.a.ellipsis)},r.a.createElement("div",null,vt.id)," ",r.a.createElement("div",{className:mt}," ")))),r.a.createElement("div",f({ref:Ae,className:it,style:$},q),r.a.createElement("div",{className:ut,style:ee},r.a.createElement("input",f({type:"hidden",value:n,className:_t,onChange:function(){}},K)),r.a.createElement("div",{className:ft,style:ne},r.a.createElement("button",f({type:"button",ref:Te,className:a(s.a["".concat(b,"__button")],D),style:u({},re),onClick:function(e){if(Ge(e),!l){if(De.current&&De.current.contains(e.target))return void je(!0);je(!Oe)}},onFocus:qe,onBlur:Qe},X),r.a.createElement("div",{className:s.a["".concat(b,"__selector")]},ht))),r.a.createElement("div",{className:dt},_&&r.a.createElement("div",{ref:De,style:u({},se,{overflow:"hidden"})},r.a.createElement("div",{className:s.a["".concat(b,"__searchInputWrapper")]},r.a.createElement("svg",{className:s.a["".concat(b,"__searchInputSearchIcon")],xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#cdcdcd",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r.a.createElement("input",{className:s.a["".concat(b,"__searchInput")],ref:ze,value:Le[0],onChange:Je,onKeyDown:Ye}),Le[0]&&r.a.createElement("svg",{className:s.a["".concat(b,"__searchInputRemoveIcon")],xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",onClick:function(){Le[1](""),ze.current.focus()}},r.a.createElement("path",{fill:"#cdcdcd",d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))),r.a.createElement("div",{ref:We,style:se},st))))})),C=Object(c.memo)((function(e){var t=e.index,n=void 0===t?-1:t,o=e.refItem,a=void 0===o?null:o,l=(e.id,e.className),i=void 0===l?"":l,u=e.item,_=e.customStyleOptionListItem,f=void 0===_?{}:_,d=e.onClick,p=void 0===d?function(){}:d,m=e.onMouseOver,v=void 0===m?function(){}:m,h=e.onMouseMove,g=void 0===h?function(){}:h,y=e.onMouseOut,w=void 0===y?function(){}:y,O=e.show,j=Object(c.useCallback)((function(e){p(u.id,e)}),[O,u]),S=Object(c.useCallback)((function(){v(n)}),[]),C=Object(c.useCallback)((function(){g()}),[]),E=Object(c.useCallback)((function(){w()}),[]);return r.a.createElement("div",{ref:a,onMouseOver:S,onMouseMove:C,onMouseOut:E,className:i,style:f,onClick:j},u.flag?r.a.createElement("div",{className:s.a["".concat(b,"__dropdown-flag")]},r.a.createElement("img",{src:u.flag,style:{width:"100%",height:"100%",verticalAlign:"middle"}})):"",r.a.createElement("div",{className:"".concat(s.a["select__dropdown-name"]," ").concat(s.a.ellipsis)},r.a.createElement("div",null,u.displayText?u.displayText:u.name)))})),E=S;"undefined"!=typeof window&&(window.ReactCustomFlagSelect=E);t.default=E}])}));
//# sourceMappingURL=react-custom-flag-select.js.map